(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6264c9a"],{"232f":function(t,a,e){t.exports=e.p+"img/game1.bg.16fd8f03.png"},"3a5e":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[e("v-container",{attrs:{"fill-height":""}},[e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("v-progress-circular",{attrs:{indeterminate:"",size:50,width:5,color:t.progressColor}})],1)],1)],1)},i=[],n={name:"Loading",props:{value:{type:Boolean,default:!1},progressColor:{type:String,default:"purple"}}},l=n,o=(e("53a2"),e("2877")),r=Object(o["a"])(l,s,i,!1,null,null,null);a["a"]=r.exports},"53a2":function(t,a,e){"use strict";var s=e("a6e4"),i=e.n(s);i.a},"79ec":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("loading",{attrs:{value:t.isLoading}}),s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{color:"blue-grey"}},[s("v-card-text",{staticClass:"pa-2"},[s("v-img",{attrs:{"max-height":"190",src:e("232f"),contain:"",position:"center right"}},[s("v-list",{staticClass:"pa-0 transparent",attrs:{dark:""}},[s("v-list-tile",[s("v-list-tile-title",[s("h4",[t._v(t._s(t.$t("game.one.totalChips",[parseFloat(t.totalChips).toFixed(4)]))+" TCH")])])],1),s("v-list-tile",[s("v-list-tile-title",[s("h4",[t._v(t._s(t.$t("game.one.totalShares",[parseFloat(t.gameData.totalShares).toFixed(4)]))+" TSH")])])],1),s("v-list-tile",{staticClass:"pt-0"},[s("v-list-tile-title",[s("h4",[t._v(t._s(t.$t("game.one.currentLotteryAssets",[parseFloat(t.gameData.lotteryChips).toFixed(4)]))+" TCH")])])],1),s("v-list-tile",{staticClass:"pt-0"},[s("v-list-tile-title",[s("h4",[t._v(t._s(t.$t("game.one.lastLotteryWinner",[t.gameData.lastLotteryWinner.substr(0,7)+" *** "+t.gameData.lastLotteryWinner.substr(t.gameData.lastLotteryWinner.length-5)])))])])],1)],1)],1)],1)],1)],1),s("v-flex",{staticClass:"pa-0",attrs:{xs12:""}},[s("v-list",{staticClass:"pa-0 transparent"},[s("v-list-tile",[t._v("\n                    "+t._s(t.$t("game.one.buy.alert"))+"\n                    "),s("v-spacer"),s("v-dialog",{attrs:{persistent:""},model:{value:t.buyDialog,callback:function(a){t.buyDialog=a},expression:"buyDialog"}},[s("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",color:"primary"},slot:"activator"},[t._v(t._s(t.$t("game.one.buy.button")))]),s("v-card",[s("v-card-title",{staticClass:"ma-0 pa-2"},[s("h3",{staticClass:"ml-1 mt-1"},[t._v(t._s(t.$t("game.one.buy.title")))]),s("v-spacer"),s("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(a){t.buyDialog=!1,t.btnLoading=!1}}},[s("v-icon",[t._v("close")])],1)],1),s("v-divider"),s("v-card-text",[s("v-form",{ref:"form"},[s("v-list",{staticClass:"mx-2"},[s("v-list-tile",{staticClass:"mt-3 mb-2"},[s("v-text-field",{attrs:{label:t.$t("game.one.buy.amount"),rules:[function(){return t.buyAmount>=2e3||t.$t("game.one.buy.insufficient")},function(){return 0==t.account.data.earnings||t.$t("game.one.buy.withdrawable")}],suffix:"TCH",required:""},model:{value:t.buyAmount,callback:function(a){t.buyAmount=a},expression:"buyAmount"}})],1)],1)],1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{flat:""},on:{click:function(a){t.buyDialog=!1,t.btnLoading=!1}}},[t._v(t._s(t.$t("cancel")))]),s("v-btn",{attrs:{color:"primary",disabled:t.buyAmount<2e3,loading:t.btnLoading},on:{click:t.buy}},[t._v(t._s(t.$t("game.one.buy.button")))])],1)],1)],1)],1)],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-tabs",{attrs:{grow:"",color:"blue lighten-2","slider-color":"primary"}},[s("v-tab",{attrs:{href:"#tabMain-1"}},[t._v(t._s(t.$t("game.one.tab.primary.title")))]),s("v-tab",{attrs:{href:"#tabMain-2"}},[t._v(t._s(t.$t("game.one.tab.secondary.title")))]),s("v-tabs-items",[s("v-tab-item",{attrs:{value:"tabMain-1"}},[s("v-card",{attrs:{color:"blue-grey"}},[s("v-divider"),s("v-card-text",{staticClass:"pa-0"},[s("v-list",{staticClass:"py-0 transparent"},[s("v-subheader",[t._v(t._s(t.$t("game.one.tab.primary.assets")))]),s("v-divider"),s("v-list-tile",[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.totalAssets",[parseFloat(1.5*t.account.data.totalChips).toFixed(4)]))+" TCH")])],1),s("v-list-tile-action",[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){return[s("v-btn",t._g({attrs:{icon:""}},a.on),[s("v-icon",[t._v("help")])],1)]}}])},[s("span",[t._v(t._s(t.$t("game.one.tab.primary.totalAssetsTooltip")))])])],1)],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.queueAssets",[parseFloat(1.5*t.account.data.queueChips).toFixed(4)]))+" TCH")])],1),s("v-list-tile-action",[s("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(a){return[s("v-btn",t._g({attrs:{icon:""}},a.on),[s("v-icon",[t._v("help")])],1)]}}])},[s("span",[t._v(t._s(t.$t("game.one.tab.primary.queueAssetsTooltip")))])])],1)],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.payouts",[parseFloat(t.account.data.payouts).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-subheader",[t._v("\n                                        "+t._s(t.$t("game.one.tab.primary.withdrawable"))+"\n                                        "),s("v-btn",{staticClass:"ml-4",attrs:{disabled:0==t.account.data.earnings&&0==t.account.data.winnings,color:"primary",loading:t.btnLoading},on:{click:function(a){return t.withdraw(1)}}},[t._v(t._s(t.$t("game.one.tab.primary.withdrawal")))])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.earnings",[parseFloat(t.account.data.earnings).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.winnings",[parseFloat(t.account.data.winnings).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-list-tile"),s("v-divider")],1)],1)],1)],1),t.account.dataOld.balances>0?s("v-tab-item",{attrs:{value:"tabMain-2"}},[s("v-card",{attrs:{color:"blue-grey"}},[s("v-divider"),s("v-card-text",{staticClass:"pa-0"},[s("v-list",{staticClass:"py-0 transparent"},[s("v-subheader",[t._v(t._s(t.$t("game.one.tab.secondary.assets")))]),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.totalAssets",[parseFloat(t.account.dataOld.balances).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.payouts",[parseFloat(t.account.dataOld.payouts).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-subheader",[t._v("\n                                        "+t._s(t.$t("game.one.tab.secondary.withdrawable"))+"\n                                        "),s("v-btn",{staticClass:"ml-4",attrs:{disabled:0==t.account.dataOld.earnings,color:"primary",loading:t.btnLoading},on:{click:function(a){return t.withdraw(2)}}},[t._v(t._s(t.$t("game.one.tab.secondary.withdrawal")))])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.earnings",[parseFloat(t.account.dataOld.earnings).toFixed(4)]))+" TCH")])],1),s("v-divider"),s("v-list-tile"),s("v-divider")],1)],1)],1)],1):t._e()],1)],1)],1)],1)],1)},i=[],n=e("3a5e"),l={components:{loading:n["a"]},data(){return{isLoading:!0,buyDialog:!1,btnLoading:!1,buyAmount:2e3,totalChips:0,account:{address:"loading...",data:{totalChips:0,queueChips:0,queueReleaseTime:0,earnings:0,winnings:0,payouts:0,lastReleasedTime:0},dataOld:{balances:0,earnings:0,payouts:0}},gameData:{totalShares:0,totalChips:0,queueChips:0,queueRound:0,lotteryChips:0,lotteryRound:0,lotteryBetCount:0,startTime:0,lastLotteryWinner:"0x0000000000000000000000000000000000000000"}}},created(){setInterval(()=>{this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TGameOne");t.methods.gameData().call((a,e)=>{!a&&e&&(this.$data.gameData.totalChips=this.$web3.utils.fromWei(e.totalChips),this.$data.gameData.queueChips=this.$web3.utils.fromWei(e.queueChips),this.$data.gameData.queueRound=e.queueRound,this.$data.gameData.lotteryChips=this.$web3.utils.fromWei(e.lotteryChips),this.$data.gameData.lotteryRound=e.lotteryRound,this.$data.gameData.lotteryBetCount=e.lotteryBetCount,this.$data.gameData.startTime=e.startTime,t.methods.winners(e.lotteryRound-1).call((t,a)=>{!t&&a&&(this.$data.gameData.lastLotteryWinner=a)}))}),t.methods.users(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.data.totalChips=this.$web3.utils.fromWei(a.totalChips),this.$data.account.data.queueChips=this.$web3.utils.fromWei(a.queueChips),this.$data.account.data.queueReleaseTime=a.queueReleaseTime,this.$data.account.data.earnings=this.$web3.utils.fromWei(a.earnings),this.$data.account.data.winnings=this.$web3.utils.fromWei(a.winnings),this.$data.account.data.payouts=this.$web3.utils.fromWei(a.payouts),this.$data.account.data.lastReleasedTime=a.lastReleasedTime)});let e=this.$web3.contractInstance("TGameOneOld");e.methods.users(a[0]).call((t,s)=>{!t&&s&&(this.$data.account.dataOld.balances=this.$web3.utils.fromWei(s.balances),this.$data.account.dataOld.payouts=this.$web3.utils.fromWei(s.payouts),e.methods.dividendOf(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.dataOld.earnings=this.$web3.utils.fromWei(a))}))});let s=this.$web3.contractInstance("TChip");s.methods.totalSupply().call((t,a)=>{!t&&a&&(this.$data.totalChips=this.$web3.utils.fromWei(a))});let i=this.$web3.contractInstance("TShare");i.methods.balanceOf(t.options.address).call((t,a)=>{!t&&a&&(this.$data.gameData.totalShares=this.$web3.utils.fromWei(a),this.$data.isLoading=!1)})}})},1e3)},methods:{buy(){this.$data.btnLoading=!0,this.$refs.form.validate()&&this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TGameOne"),e=this.$web3.contractInstance("TChip");e.methods.approveAndCall(t.options.address,this.$web3.utils.toWei(this.$data.buyAmount.toString()),"0x").send({from:a[0],gas:15e5},(t,a)=>{t||(this.$data.buyDialog=!1,this.$data.btnLoading=!1)})}})},withdraw(t){this.$data.btnLoading=!0,this.$web3.eth.getAccounts((a,e)=>{if(!a){this.$data.account.address=e[0];let a="TGameOne";2==t&&(a="TGameOneOld");let s=this.$web3.contractInstance(a);s.methods.withdraw(e[0]).send({from:e[0],gas:15e5},(t,a)=>{t||(this.$data.btnLoading=!1)})}})}}},o=l,r=e("2877"),d=Object(r["a"])(o,s,i,!1,null,null,null);a["default"]=d.exports},a6e4:function(t,a,e){}}]);