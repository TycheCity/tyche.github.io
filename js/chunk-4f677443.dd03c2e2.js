(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f677443"],{"3a5e":function(t,o,r){"use strict";var s=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("v-dialog",{attrs:{persistent:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(o){t.value=o},expression:"value"}},[r("v-container",{attrs:{"fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-progress-circular",{attrs:{indeterminate:"",size:50,width:5,color:t.progressColor}})],1)],1)],1)},e=[],i={name:"Loading",props:{value:{type:Boolean,default:!1},progressColor:{type:String,default:"purple"}}},n=i,a=(r("53a2"),r("2877")),l=Object(a["a"])(n,s,e,!1,null,null,null);o["a"]=l.exports},"53a2":function(t,o,r){"use strict";var s=r("a6e4"),e=r.n(s);e.a},"72e0":function(t,o,r){"use strict";r.r(o);var s=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"game-two"},[r("loading",{attrs:{value:t.isLoading}}),r("v-dialog",{attrs:{persistent:""},model:{value:t.dialogJoin,callback:function(o){t.dialogJoin=o},expression:"dialogJoin"}},[r("v-card",[r("v-toolbar",{attrs:{card:""}},[r("v-toolbar-title",[t._v(t._s(t.$t("game.two.dialog.title")))]),r("v-spacer"),r("v-btn",{attrs:{icon:""},nativeOn:{click:function(o){t.dialogJoin=!1}}},[r("v-icon",[t._v("close")])],1)],1),r("v-card-text",[r("v-subheader",{staticClass:"px-2 pb-3"},[t._v(t._s(t.$t("game.two.dialog.tips")))]),r("form",{staticClass:"px-2"},[r("v-slider",{staticClass:"mb-0",attrs:{"thumb-label":"always",min:1,max:t.rooms.currentUnsoldShares},model:{value:t.rooms.currentShares,callback:function(o){t.$set(t.rooms,"currentShares",o)},expression:"rooms.currentShares"}})],1)],1),r("v-divider"),r("v-card-actions",{staticClass:"pr-3 pb-2"},[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.btnLoading},on:{click:t.join}},[t._v(t._s(t.$t("buy")))])],1)],1)],1),r("v-container",{attrs:{fluid:"","grid-list-lg":"","pt-2":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","pb-2":""}},[r("v-card",{attrs:{color:"blue-grey lighten-1"}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",{staticClass:"headline pb-2"},[t._v(t._s(t.$t("game.two.first")))]),r("div",{staticClass:"ma-2"},[t._v(t._s(t.$web3.utils.fromWei(t.rooms.one.price.toString()))+" TCH / "+t._s(t.$t("game.bet")))]),r("v-spacer"),r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.$t("game.rule")))]),r("span",{domProps:{innerHTML:t._s(t.$t("game.two.explain",[t.$web3.utils.fromWei(t.rooms.one.price.toString()),t.rooms.one.initShares,t.rooms.one.firstWinnings,t.rooms.one.secondWinnings,t.rooms.one.thirdWinnings]))}})]),r("v-progress-linear",{attrs:{color:"success lighten-1",value:10*t.rooms.one.unsoldShares}})],1),r("v-card-actions",[r("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("game.two.progress",[t.rooms.one.roundNumber,t.rooms.one.unsoldShares])))]),r("v-spacer"),r("v-btn",{attrs:{flat:"",href:"/game2-log/"+t.rooms.one.roomNumber}},[t._v(t._s(t.$t("game.history")))]),r("v-btn",{attrs:{color:"blue-grey"},on:{click:function(o){t.dialogJoin=!0,t.rooms.currentRoomNumber=t.rooms.one.roomNumber,t.rooms.currentUnsoldShares=t.rooms.one.unsoldShares,t.rooms.currentPrice=t.rooms.one.price}}},[t._v(t._s(t.$t("game.betting")))])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","pb-2":""}},[r("v-card",{attrs:{color:"light-blue lighten-1"}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",{staticClass:"headline pb-2"},[t._v(t._s(t.$t("game.two.second")))]),r("div",{staticClass:"ma-2"},[t._v(t._s(t.$web3.utils.fromWei(t.rooms.two.price.toString()))+" TCH / "+t._s(t.$t("game.bet")))]),r("v-spacer"),r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.$t("game.rule")))]),r("span",{domProps:{innerHTML:t._s(t.$t("game.two.explain",[t.$web3.utils.fromWei(t.rooms.two.price.toString()),t.rooms.two.initShares,t.rooms.two.firstWinnings,t.rooms.two.secondWinnings,t.rooms.two.thirdWinnings]))}})]),r("v-progress-linear",{attrs:{color:"purple lighten-1",value:10*t.rooms.two.unsoldShares}})],1),r("v-card-actions",[r("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("game.two.progress",[t.rooms.two.roundNumber,t.rooms.two.unsoldShares])))]),r("v-spacer"),r("v-btn",{attrs:{flat:"",href:"/game2-log/"+t.rooms.two.roomNumber}},[t._v(t._s(t.$t("game.history")))]),r("v-btn",{attrs:{color:"light-blue"},on:{click:function(o){t.dialogJoin=!0,t.rooms.currentRoomNumber=t.rooms.two.roomNumber,t.rooms.currentUnsoldShares=t.rooms.two.unsoldShares,t.rooms.currentPrice=t.rooms.one.price}}},[t._v(t._s(t.$t("game.betting")))])],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","pb-2":""}},[r("v-card",{attrs:{color:"purple lighten-1"}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",{staticClass:"headline pb-2"},[t._v(t._s(t.$t("game.two.third")))]),r("div",{staticClass:"ma-2"},[t._v(t._s(t.$web3.utils.fromWei(t.rooms.three.price.toString()))+" TCH / "+t._s(t.$t("game.bet")))]),r("v-spacer"),r("v-tooltip",{attrs:{bottom:""}},[r("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.$t("game.rule")))]),r("span",{domProps:{innerHTML:t._s(t.$t("game.two.explain",[t.$web3.utils.fromWei(t.rooms.three.price.toString()),t.rooms.three.initShares,t.rooms.three.firstWinnings,t.rooms.three.secondWinnings,t.rooms.three.thirdWinnings]))}})]),r("v-progress-linear",{attrs:{color:"light-blue lighten-1",value:10*t.rooms.three.unsoldShares}})],1),r("v-card-actions",[r("div",{staticClass:"ml-2"},[t._v(t._s(t.$t("game.two.progress",[t.rooms.three.roundNumber,t.rooms.three.unsoldShares])))]),r("v-spacer"),r("v-btn",{attrs:{flat:"",href:"/game2-log/"+t.rooms.three.roomNumber}},[t._v(t._s(t.$t("game.history")))]),r("v-btn",{attrs:{color:"purple"},on:{click:function(o){t.dialogJoin=!0,t.rooms.currentRoomNumber=t.rooms.three.roomNumber,t.rooms.currentUnsoldShares=t.rooms.three.unsoldShares,t.rooms.currentPrice=t.rooms.one.price}}},[t._v(t._s(t.$t("game.betting")))])],1)],1)],1)],1)],1)],1)},e=[],i=r("3a5e"),n={components:{loading:i["a"]},data(){return{isLoading:!0,dialogJoin:!1,btnLoading:!1,account:{address:"0x0000000000000000000000000000000000000000",chipToken:0},rooms:{currentRoomNumber:1,currentShares:1,currentUnsoldShares:0,currentPrice:0,one:{roomNumber:1,roundNumber:0,initShares:0,firstWinnings:0,secondWinnings:0,thirdWinnings:0,price:0,unsoldShares:0},two:{roomNumber:2,roundNumber:0,initShares:0,firstWinnings:0,secondWinnings:0,thirdWinnings:0,price:0,unsoldShares:0},three:{roomNumber:3,roundNumber:0,initShares:0,firstWinnings:0,secondWinnings:0,thirdWinnings:0,price:0,unsoldShares:0}}}},created(){setInterval(()=>{this.$web3.eth.getAccounts((t,o)=>{if(!t){this.$data.account.address=o[0];let t=this.$web3.contractInstance("TGameTwo");t.methods.rooms(this.$data.rooms.one.roomNumber).call((o,r)=>{o||(this.$data.rooms.one.roundNumber=r.roundNumber,this.$data.rooms.one.initShares=r.initShares,this.$data.rooms.one.firstWinnings=this.$web3.utils.fromWei(r.winnings)/r.firstWinnerRate,this.$data.rooms.one.secondWinnings=this.$web3.utils.fromWei(r.winnings)/r.secondWinnerRate,this.$data.rooms.one.thirdWinnings=this.$web3.utils.fromWei(r.winnings)/r.thirdWinnerRate,this.$data.rooms.one.price=r.price,t.methods.rounds(this.$data.rooms.one.roomNumber,r.roundNumber).call((t,o)=>{t||(this.$data.rooms.one.unsoldShares=o.unsoldShares)}))}),t.methods.rooms(this.$data.rooms.two.roomNumber).call((o,r)=>{o||(this.$data.rooms.two.roundNumber=r.roundNumber,this.$data.rooms.two.initShares=r.initShares,this.$data.rooms.two.firstWinnings=this.$web3.utils.fromWei(r.winnings)/r.firstWinnerRate,this.$data.rooms.two.secondWinnings=this.$web3.utils.fromWei(r.winnings)/r.secondWinnerRate,this.$data.rooms.two.thirdWinnings=this.$web3.utils.fromWei(r.winnings)/r.thirdWinnerRate,this.$data.rooms.two.price=r.price,t.methods.rounds(this.$data.rooms.two.roomNumber,r.roundNumber).call((t,o)=>{t||(this.$data.rooms.two.unsoldShares=o.unsoldShares)}))}),t.methods.rooms(this.$data.rooms.three.roomNumber).call((o,r)=>{o||(this.$data.rooms.three.roundNumber=r.roundNumber,this.$data.rooms.three.initShares=r.initShares,this.$data.rooms.three.firstWinnings=this.$web3.utils.fromWei(r.winnings)/r.firstWinnerRate,this.$data.rooms.three.secondWinnings=this.$web3.utils.fromWei(r.winnings)/r.secondWinnerRate,this.$data.rooms.three.thirdWinnings=this.$web3.utils.fromWei(r.winnings)/r.thirdWinnerRate,this.$data.rooms.three.price=r.price,t.methods.rounds(this.$data.rooms.three.roomNumber,r.roundNumber).call((t,o)=>{t||(this.$data.rooms.three.unsoldShares=o.unsoldShares,this.$data.isLoading=!1)}))})}})},1e3)},methods:{join(){this.$data.btnLoading=!0;let t=this.$data.rooms.currentRoomNumber,o=this.$web3.utils.fromWei(this.$data.rooms.currentPrice.toString())*this.$data.rooms.currentShares;this.$web3.eth.getAccounts((r,s)=>{if(!r){this.$data.account.address=s[0],console.log(this.$web3.utils.toHex(t));let r=this.$web3.contractInstance("TGameTwo"),e=this.$web3.contractInstance("TChip");e.methods.approveAndCall(r.options.address,this.$web3.utils.toWei(o.toString()),this.$web3.utils.toHex(t)).send({from:s[0],gas:15e5},(t,o)=>{t||(this.$data.dialogJoin=!1,this.$data.btnLoading=!1)})}})}}},a=n,l=r("2877"),m=Object(l["a"])(a,s,e,!1,null,null,null);o["default"]=m.exports},a6e4:function(t,o,r){}}]);