(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b587a1de"],{"3a5e":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[e("v-container",{attrs:{"fill-height":""}},[e("v-layout",{attrs:{"align-center":"","justify-center":""}},[e("v-progress-circular",{attrs:{indeterminate:"",size:50,width:5,color:t.progressColor}})],1)],1)],1)},i=[],l={name:"Loading",props:{value:{type:Boolean,default:!1},progressColor:{type:String,default:"purple"}}},n=l,r=(e("53a2"),e("2877")),o=Object(r["a"])(n,s,i,!1,null,null,null);a["a"]=o.exports},"53a2":function(t,a,e){"use strict";var s=e("a6e4"),i=e.n(s);i.a},a6e4:function(t,a,e){},c209:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("loading",{attrs:{value:t.isLoading}}),s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{color:"blue-grey"}},[s("v-card-text",{staticClass:"pa-2"},[s("v-img",{attrs:{"max-height":"95",src:e("b534"),contain:"",position:"center right"}},[s("v-list",{staticClass:"pa-0 transparent",attrs:{dark:""}},[s("v-list-tile",[s("v-list-tile-title",[s("h4",[t._v("累积收益："+t._s(parseFloat(t.totalChips).toFixed(4))+" TCH")])])],1),s("v-list-tile",{staticClass:"pt-0"},[s("v-list-tile-title",[s("h4",[t._v("股份供应："+t._s(parseFloat(t.totalSupply).toFixed(4))+" TCH")])])],1)],1)],1)],1)],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{color:"blue-grey"}},[s("v-divider"),s("v-card-text",{staticClass:"pa-0"},[s("v-list",{staticClass:"py-0 transparent"},[s("v-subheader",[t._v("我的收益")]),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v("我的股份："+t._s(parseFloat(t.account.data.balances).toFixed(4))+" TCH")])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v("已领收益："+t._s(parseFloat(t.account.data.payouts).toFixed(4))+" TCH")])],1),s("v-divider"),s("v-subheader",[t._v("\n                            未领收益\n                            "),s("v-btn",{staticClass:"ml-4",attrs:{disabled:0==t.account.data.earnings,color:"primary",loading:t.btnLoading},on:{click:function(a){return t.withdraw()}}},[t._v("领取收益")])],1),s("v-divider"),s("v-list-tile",[s("v-list-tile-title",[t._v("未领收益："+t._s(parseFloat(t.account.data.earnings).toFixed(4))+" TCH")])],1),s("v-divider"),s("v-list-tile"),s("v-divider")],1)],1)],1)],1)],1)],1)},i=[],l=e("3a5e"),n={components:{loading:l["a"]},data(){return{isLoading:!0,btnLoading:!1,account:{address:"loading...",data:{balances:0,earnings:0,payouts:0}},totalSupply:0,totalChips:0}},created(){setInterval(()=>{this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TFoundation");t.methods.totalSupply().call((t,a)=>{!t&&a&&(this.$data.totalSupply=this.$web3.utils.fromWei(a))}),t.methods.dividendOf(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.data.earnings=this.$web3.utils.fromWei(a))}),t.methods.users(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.data.balances=this.$web3.utils.fromWei(a.balances),this.$data.account.data.payouts=this.$web3.utils.fromWei(a.payouts))});let e=this.$web3.contractInstance("TChip");e.methods.balanceOf(t.options.address).call((t,a)=>{!t&&a&&(this.$data.totalChips=this.$web3.utils.fromWei(a),this.$data.isLoading=!1)})}})},1e3)},methods:{withdraw(){this.$data.btnLoading=!0,this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TFoundation");t.methods.withdraw(a[0]).send({from:a[0],gas:15e5},(t,a)=>{t||(this.$data.btnLoading=!1)})}})}}},r=n,o=e("2877"),d=Object(o["a"])(r,s,i,!1,null,null,null);a["default"]=d.exports}}]);