(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be861ab2"],{"3a5e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-progress-circular",{attrs:{indeterminate:"",size:50,width:5,color:t.progressColor}})],1)],1)],1)},i=[],s={name:"Loading",props:{value:{type:Boolean,default:!1},progressColor:{type:String,default:"purple"}}},r=s,d=(a("53a2"),a("2877")),o=Object(d["a"])(r,n,i,!1,null,null,null);o.options.__file="Loading.vue";e["a"]=o.exports},"53a2":function(t,e,a){"use strict";var n=a("a6e4"),i=a.n(n);i.a},9928:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("loading",{attrs:{value:t.isLoading}}),a("v-dialog",{model:{value:t.dialogJoin,callback:function(e){t.dialogJoin=e},expression:"dialogJoin"}},[a("v-card",[a("v-toolbar",{attrs:{card:""}},[a("v-toolbar-title",[t._v(t._s(t.$t("games.two.dialog.title")))]),a("v-spacer"),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialogJoin=!1}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-alert",{attrs:{value:t.alertLimit,type:"error"}},[t._v(t._s(t.limitError))]),a("form",{staticClass:"pt-2"},[a("v-text-field",{attrs:{label:t.$t("games.two.dialog.tips"),required:""},model:{value:t.buyKeys,callback:function(e){t.buyKeys=e},expression:"buyKeys"}})],1)],1),a("v-card-actions",{staticClass:"pr-3 pb-3"},[a("v-spacer"),a("v-btn",{on:{click:t.join}},[t._v(t._s(t.$t("buy")))])],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{color:"purple lighten-1"}},[""==t.nextRoundStartTimeCountdownText?[a("v-card-title",{staticClass:"pt-3",attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"pb-2"},[t._v(t._s(t.$t("games.two.round.countdownText"))+": "+t._s(t.round.countdownText))]),a("div",{staticClass:"headline pb-2"},[t._v(t._s(t.$t("games.two.round.prize"))+": "+t._s(t.round.prize)+" TCH")]),a("div",[t._v(t._s(t.$t("games.two.round.keys"))+": "+t._s(t.round.keys))])])]),a("v-divider"),a("v-card-text",[a("div",{staticClass:"pb-2"},[t._v(t._s(t.$t("games.two.round.luckyWinnerCountdownText"))+": "+t._s(t.phase.countdownText))]),a("div",{staticClass:"headline pb-2"},[t._v(t._s(t.$t("games.two.round.luckyPrize"))+": "+t._s(t.round.luckyPrize)+" TCH")]),a("div",[t._v(t._s(t.$t("games.two.round.lastLuckyWinner"))+": "+t._s(t.web3.utils.hideAddress(t.round.lastLuckyWinner)))])]),a("v-divider"),a("v-card-actions",{staticClass:"pa-3"},[t._v("\n                        "+t._s(t.$t("games.two.round.price"))+": "+t._s(t.round.price)+" TCH\n                        "),a("v-spacer"),a("v-btn",{attrs:{color:"purple"},on:{click:function(e){t.dialogJoin=!0}}},[t._v(t._s(t.$t("buy")))])],1)]:t._e(),""!=t.nextRoundStartTimeCountdownText?[a("v-card-title",{staticClass:"pt-3",attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v(t._s(t.$t("games.two.round.end")))])])]),a("v-divider"),a("v-card-text",[a("div",[t._v(t._s(t.$t("games.two.round.firstWinner"))+": "+t._s(t.web3.utils.hideAddress(t.round.firstWinner)))]),a("div",[t._v(t._s(t.$t("games.two.round.secondWinner"))+": "+t._s(t.web3.utils.hideAddress(t.round.secondWinner)))]),a("div",[t._v(t._s(t.$t("games.two.round.thirdWinner"))+": "+t._s(t.web3.utils.hideAddress(t.round.thirdWinner)))])]),a("v-divider"),a("v-card-actions",{staticClass:"pa-3"},[t._v("\n                        "+t._s(t.$t("games.two.nextRoundStartTimeCountdownText"))+" "+t._s(t.nextRoundStartTimeCountdownText)+"\n                    ")])]:t._e()],2)],1),a("v-flex",{attrs:{xs12:""}},[a("v-tabs",{attrs:{grow:"",color:"cyan"}},[a("v-tab",{attrs:{href:"#bets"}},[t._v("\n                    "+t._s(t.$t("games.two.player.betInfo"))+"\n                    "),a("v-tooltip",{attrs:{top:""}},[a("span",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v("（"+t._s(t.$t("alert"))+"）")]),a("span",{domProps:{innerHTML:t._s(t.$t("games.two.player.alert"))}})])],1),a("v-tab",{attrs:{href:"#dividends"}},[t._v(t._s(t.$t("games.two.player.dividends")))]),a("v-tabs-items",[a("v-tab-item",{attrs:{value:"bets"}},[a("v-list",[t.currentRoundId>1?a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.lastRoundChips"))+": "+t._s(t.player.lastRoundChips)+" TCH（"+t._s(t.$t("games.two.round.id",[t.player.lastRoundId-1]))+"）")])],1):t._e(),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.chips"))+": "+t._s(t.player.chips)+" TCH（"+t._s(t.$t("games.two.round.id",[t.player.lastRoundId]))+"）")])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.keys"))+": "+t._s(t.player.keys))])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.earnings"))+": "+t._s(t.player.earnings)+" TCH")])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.payouts"))+": "+t._s(t.player.payouts)+" TCH")])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.winnings"))+": "+t._s(t.player.winnings)+" TCH")])],1),a("v-divider")],1)],1),a("v-tab-item",{attrs:{value:"dividends"}},[a("v-card",[a("v-list",[a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.earnings"))+": "+t._s(t.player.earnings)+" TCH")])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.winnings"))+": "+t._s(t.player.winnings)+" TCH")])],1),a("v-divider"),a("v-list-tile",[a("v-list-tile-title",[t._v(t._s(t.$t("games.two.player.totalEarnings"))+": "+t._s(parseInt(t.player.earnings)+parseInt(t.player.winnings))+" TCH")])],1),a("v-divider")],1),a("v-card-actions",{staticClass:"pr-3 pb-3"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.receiveDividends}},[t._v(t._s(t.$t("games.two.player.dividends")))])],1)],1)],1)],1)],1)],1)],1)],1)},i=[],s=(a("ac6a"),a("3a5e")),r={components:{loading:s["a"]},data:function(){return{isLoading:!0,dialogJoin:!1,account:"",currentRoundId:0,roundOption:{initialTime:3600,phaseTime:86400},round:{phase:0,keys:0,prize:0,luckyPrize:0,chips:0,masks:0,startTime:0,endTime:0,lastBetId:0,price:0,countdownText:"",lastLuckyWinner:"",firstWinner:"",secondWinner:"",thirdWinner:"",ended:!1},nextRoundStartTimeCountdownText:"",phase:{countdownText:""},player:{lastRoundId:0,chips:0,keys:0,winnings:0,earnings:0,payouts:0,lastRoundChips:0},buyKeys:1,alertLimit:!1,limitError:""}},created:function(){var t=this,e=this;e.web3.eth.getAccounts(function(t,a){t||(e.$data.account=a[0])});var a=e.web3.contract("TGameTwo");a.methods.currentRoundId().call(function(t,n){!t&&n&&(e.$data.currentRoundId=n,a.methods.price(n).call(function(t,a){!t&&a&&(e.$data.round.price=a)}))}),a.methods.roundOption().call(function(t,a){!t&&a&&(e.$data.roundOption.initialTime=a.initialTime,e.$data.roundOption.phaseTime=a.phaseTime,e.$data.isLoading=!1)}),setInterval(function(){a.methods.rounds(e.$data.currentRoundId).call(function(n,i){if(!n&&i){e.$data.round.phase=i.phase,e.$data.round.keys=i.keys,e.$data.round.prize=i.prize,e.$data.round.luckyPrize=i.luckyPrize,e.$data.round.chips=i.chips,e.$data.round.masks=i.masks,e.$data.round.startTime=i.startTime,e.$data.round.endTime=i.endTime,e.$data.round.lastBetId=i.lastBetId,e.$data.round.firstWinner=i.firstWinner,e.$data.round.secondWinner=i.secondWinner,e.$data.round.thirdWinner=i.thirdWinner,e.$data.round.ended=i.ended;var s=Date.parse(new Date),r=1e3*i.startTime;r>s&&(e.$data.nextRoundStartTimeCountdownText=t.countdown(r,!1),a.methods.rounds(e.$data.currentRoundId-1).call(function(t,a){!t&&a&&(e.$data.round.phase=a.phase,e.$data.round.keys=a.keys,e.$data.round.prize=a.prize,e.$data.round.luckyPrize=a.luckyPrize,e.$data.round.chips=a.chips,e.$data.round.masks=a.masks,e.$data.round.startTime=a.startTime,e.$data.round.endTime=a.endTime,e.$data.round.lastBetId=a.lastBetId,e.$data.round.firstWinner=a.firstWinner,e.$data.round.secondWinner=a.secondWinner,e.$data.round.thirdWinner=a.thirdWinner,e.$data.round.ended=a.ended)}))}}),a.methods.players(e.$data.account).call(function(t,a){!t&&a&&(e.$data.player.lastRoundId=a.lastRoundId,e.$data.player.chips=a.chips,e.$data.player.keys=a.keys,e.$data.player.earnings=a.earnings,e.$data.player.winnings=a.winnings,e.$data.player.payouts=a.payouts,e.$data.player.lastRoundChips=a.lastRoundChips)}),a.methods.luckyWinners(e.$data.currentRoundId,e.$data.round.phase-1).call(function(a,n){!a&&n&&(e.$data.round.lastLuckyWinner="0x0000000000000000000000000000000000000000"!=n?n:t.$t("games.two.round.noWinner"))}),e.$data.round.countdownText=t.countdown(1e3*e.$data.round.endTime,!0),e.$data.phase.countdownText=t.countdown(1e3*e.$data.round.startTime+e.$data.round.phase*e.$data.roundOption.phaseTime*1e3,!0)},1e3)},methods:{countdown:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Date.parse(new Date),n=t-a,i=parseInt(n/1e3/60/60/24),s=parseInt(n/1e3/60/60%24),r=parseInt(n/1e3/60%60),d=parseInt(n/1e3%60);s=s>0?s:0,r=r>0?r:0,d=d>0?d:0;var o=this.$t("games.two.countdown.text",[s,r,d]);return e&&(o=this.$t("games.two.countdown.day",[i])+o),o},join:function(){var t=this;t.web3.eth.getAccounts(function(e,a){if(!e){t.$data.account=a[0];var n=t.web3.contract("TChip");n.methods.balanceOf(a[0]).call(function(e,a){if(!e&&a){var n=t.$data.buyKeys*t.$data.round.price;if(n<=parseInt(a)){var i=t.web3.contract("TGameTwo");i.methods.buy(t.$data.buyKeys).send({from:t.$data.account},function(e,a){e||(t.$data.dialogJoin=!1)})}}})}})},receiveDividends:function(){var t=this;t.web3.eth.getAccounts(function(e,a){if(!e){t.$data.account=a[0];var n=t.web3.contract("TGameTwo");n.methods.withdraw().send({from:t.$data.account},function(e,a){e||(t.$data.dividendOf=0)})}})}}},d=r,o=a("2877"),l=Object(o["a"])(d,n,i,!1,null,null,null);l.options.__file="GameTwo.vue";e["default"]=l.exports},a6e4:function(t,e,a){},ac6a:function(t,e,a){for(var n=a("cadf"),i=a("0d58"),s=a("2aba"),r=a("7726"),d=a("32e9"),o=a("84f2"),l=a("2b4c"),u=l("iterator"),c=l("toStringTag"),v=o.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(p),$=0;$<m.length;$++){var y,_=m[$],g=p[_],w=r[_],h=w&&w.prototype;if(h&&(h[u]||d(h,u,v),h[c]||d(h,c,_),o[_]=v,g))for(y in n)h[y]||s(h,y,n[y],!0)}}}]);