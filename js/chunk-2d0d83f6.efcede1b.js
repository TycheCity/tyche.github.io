(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d83f6"],{"79ec":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:"","grid-list-lg":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-card",{attrs:{color:"purple lighten-2"}},[e("v-card-text",[e("v-list",{staticClass:"ma-0 pa-0 transparent",attrs:{dark:""}},[e("v-list-tile",[e("v-list-tile-title",[e("h4",[t._v(t._s(t.$t("game.one.totalAssets",[t.gameData.totalShares]))+" TSH")])])],1),e("v-list-tile",{staticClass:"pt-0"},[e("v-list-tile-title",[e("h4",[t._v(t._s(t.$t("game.one.currentLotteryAssets",[t.gameData.lotteryChips]))+" TCH")])])],1),e("v-list-tile",{staticClass:"pt-0"},[e("v-list-tile-title",[e("h4",[t._v(t._s(t.$t("game.one.lastLotteryWinner",[t.gameData.lastLotteryWinner])))])])],1)],1)],1)],1)],1),e("v-flex",{staticClass:"pa-0",attrs:{xs12:""}},[e("v-list",{staticClass:"pa-0 transparent"},[e("v-list-tile",[t._v("\n                    "+t._s(t.$t("game.one.buy.alert"))+"\n                    "),e("v-spacer"),e("v-dialog",{attrs:{persistent:""},model:{value:t.buyDialog,callback:function(a){t.buyDialog=a},expression:"buyDialog"}},[e("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",color:"primary"},slot:"activator"},[t._v(t._s(t.$t("game.one.buy.button")))]),e("v-card",[e("v-card-title",{staticClass:"ma-0 pa-2"},[e("h3",{staticClass:"ml-1 mt-1"},[t._v(t._s(t.$t("game.one.buy.title")))]),e("v-spacer"),e("v-btn",{staticClass:"ma-0 pa-0",attrs:{icon:""},on:{click:function(a){t.buyDialog=!1}}},[e("v-icon",[t._v("close")])],1)],1),e("v-divider"),e("v-card-text",[e("v-form",{ref:"form"},[e("v-list",{staticClass:"mx-2"},[e("v-list-tile",{staticClass:"mt-3 mb-2"},[e("v-text-field",{attrs:{label:t.$t("game.one.buy.amount"),suffix:"TCH",required:""},model:{value:t.buyAmount,callback:function(a){t.buyAmount=a},expression:"buyAmount"}})],1)],1)],1)],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{flat:""},on:{click:function(a){t.buyDialog=!1}}},[t._v(t._s(t.$t("cancel")))]),e("v-btn",{attrs:{color:"primary",loading:t.btnLoading},on:{click:t.buy}},[t._v(t._s(t.$t("game.one.buy.button")))])],1)],1)],1)],1)],1)],1),e("v-flex",{attrs:{xs12:""}},[e("v-tabs",{attrs:{grow:"",color:"blue lighten-2","slider-color":"primary"}},[e("v-tab",{attrs:{href:"#tabMain-1"}},[t._v(t._s(t.$t("game.one.tab.primary.title")))]),e("v-tab",{attrs:{href:"#tabMain-2"}},[t._v(t._s(t.$t("game.one.tab.secondary.title")))]),e("v-tabs-items",[e("v-tab-item",{attrs:{value:"tabMain-1"}},[e("v-card",{attrs:{color:"blue-grey"}},[e("v-divider"),e("v-card-text",{staticClass:"pa-0"},[e("v-list",{staticClass:"py-0 transparent"},[e("v-subheader",[t._v(t._s(t.$t("game.one.tab.primary.assets")))]),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.totalAssets",[t.account.data.totalChips]))+" TCH")])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.queueAssets",[t.account.data.queueChips]))+" TCH")])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.payouts",[t.account.data.payouts]))+" TCH")])],1),e("v-divider"),e("v-subheader",[t._v("\n                                        "+t._s(t.$t("game.one.tab.primary.withdrawable"))+"\n                                        "),e("v-btn",{staticClass:"ml-4",attrs:{color:"primary",loading:t.btnLoading},on:{click:function(a){return t.withdraw(1)}}},[t._v(t._s(t.$t("game.one.tab.primary.withdrawal")))])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.earnings",[t.account.data.earnings]))+" TCH")])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.primary.winnings",[t.account.data.winnings]))+" TCH")])],1),e("v-divider"),e("v-list-tile"),e("v-divider")],1)],1)],1)],1),e("v-tab-item",{attrs:{value:"tabMain-2"}},[e("v-card",{attrs:{color:"blue-grey"}},[e("v-divider"),e("v-card-text",{staticClass:"pa-0"},[e("v-list",{staticClass:"py-0 transparent"},[e("v-subheader",[t._v(t._s(t.$t("game.one.tab.secondary.assets")))]),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.totalAssets",[t.account.dataOld.chips]))+" TCH")])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.payouts",[t.account.dataOld.payouts]))+" TCH")])],1),e("v-divider"),e("v-subheader",[t._v("\n                                        "+t._s(t.$t("game.one.tab.secondary.withdrawable"))+"\n                                        "),e("v-btn",{staticClass:"ml-4",attrs:{color:"primary",loading:t.btnLoading},on:{click:function(a){return t.withdraw(2)}}},[t._v(t._s(t.$t("game.one.tab.secondary.withdrawal")))])],1),e("v-divider"),e("v-list-tile",[e("v-list-tile-title",[t._v(t._s(t.$t("game.one.tab.secondary.earnings",[t.account.dataOld.earnings]))+" TCH")])],1),e("v-divider"),e("v-list-tile"),e("v-divider")],1)],1)],1)],1)],1)],1)],1)],1)],1)},i=[],l={data(){return{buyDialog:!1,btnLoading:!1,buyAmount:0,account:{address:"loading...",data:{totalChips:0,queueChips:0,queueReleaseTime:0,earnings:0,winnings:0,payouts:0,lastReleasedTime:0},dataOld:{chips:0,earnings:0,payouts:0}},gameData:{totalShares:0,totalChips:0,queueChips:0,queueRound:0,lotteryChips:0,lotteryRound:0,lotteryBetCount:0,startTime:0,lastLotteryWinner:"0x0"}}},created(){setInterval(()=>{this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TGameOne");t.methods.gameData().call((a,e)=>{!a&&e&&(this.$data.gameData.totalChips=this.$web3.utils.fromWei(e.totalChips),this.$data.gameData.queueChips=this.$web3.utils.fromWei(e.queueChips),this.$data.gameData.queueRound=e.queueRound,this.$data.gameData.lotteryChips=this.$web3.utils.fromWei(e.lotteryChips),this.$data.gameData.lotteryRound=e.lotteryRound,this.$data.gameData.lotteryBetCount=e.lotteryBetCount,this.$data.gameData.startTime=e.startTime,t.methods.winners(e.lotteryRound).call((t,a)=>{!t&&a&&(this.$data.gameData.lastLotteryWinner=a)}))}),t.methods.users(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.data.totalChips=this.$web3.utils.fromWei(a.totalChips),this.$data.account.data.queueChips=this.$web3.utils.fromWei(a.queueChips),this.$data.account.data.queueReleaseTime=a.queueReleaseTime,this.$data.account.data.earnings=this.$web3.utils.fromWei(a.earnings),this.$data.account.data.winnings=this.$web3.utils.fromWei(a.winnings),this.$data.account.data.payouts=this.$web3.utils.fromWei(a.payouts),this.$data.account.data.lastReleasedTime=a.lastReleasedTime)});let e=this.$web3.contractInstance("TGameOneOld");e.methods.users(a[0]).call((t,a)=>{!t&&a&&(this.$data.account.dataOld.chips=this.$web3.utils.fromWei(a.chips),this.$data.account.dataOld.earnings=this.$web3.utils.fromWei(a.earnings),this.$data.account.dataOld.payouts=this.$web3.utils.fromWei(a.payouts))});let s=this.$web3.contractInstance("TShare");s.methods.balanceOf(t.options.address).call((t,a)=>{!t&&a>0&&(this.$data.gameData.totalShares=this.$web3.utils.fromWei(a))})}})},1e3)},methods:{buy(){this.$data.btnLoading=!0,this.$web3.eth.getAccounts((t,a)=>{if(!t){this.$data.account.address=a[0];let t=this.$web3.contractInstance("TGameOne"),e=this.$web3.contractInstance("TChip");e.methods.approveAndCall(t.options.address,this.$web3.utils.toWei(this.$data.buyAmount.toString()),"0x").send({from:a[0],gas:15e5},(t,a)=>{t||(this.$data.buyDialog=!1,this.$data.btnLoading=!1)})}})},withdraw(t){this.$data.btnLoading=!0,this.$web3.eth.getAccounts((a,e)=>{if(!a){this.$data.account.address=e[0];let a="TGameOne";2==t&&(a="TGameOneOld");let s=this.$web3.contractInstance(a);s.methods.withdraw(e[0]).send({from:e[0],gas:15e5},(t,a)=>{t||(this.$data.btnLoading=!1)})}})}}},n=l,r=e("2877"),o=Object(r["a"])(n,s,i,!1,null,null,null);a["default"]=o.exports}}]);